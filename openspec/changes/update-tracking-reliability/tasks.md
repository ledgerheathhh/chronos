## 1. Implementation
- [x] 1.1 Update daily date calculation to use local date boundaries
- [x] 1.2 Replace interval-based persistence with alarms
- [x] 1.3 Refresh active tab context on idle resume
- [x] 1.4 Prune daily history beyond retention window

## 2. Validation
- [ ] 2.1 Manually verify daily totals align with local date rollover
- [ ] 2.2 Manually verify persistence still happens during normal browsing
